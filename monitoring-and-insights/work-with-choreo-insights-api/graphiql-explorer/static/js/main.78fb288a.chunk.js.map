{"version":3,"sources":["assets/img/logout.svg","components/Popup/Popup.jsx","components/PreLoaderLogo/PreLoaderLogo.jsx","config.js","theme/theme.jsx","App.jsx","index.jsx"],"names":["OauthPopup","title","width","height","url","children","onCode","onClose","code_verifier","useState","Window","externalWindow","setExternalWindow","intervalRef","useRef","clearTimer","window","clearInterval","current","onContainerClick","left","screenX","outerWidth","top","screenY","outerHeight","open","createPopup","useEffect","setInterval","a","currentURL","location","href","params","URL","searchParams","get","close","closed","style","display","onClick","PreLoaderLogo","props","size","classes","makeStyles","preloader","position","useStyles","loaderSize","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","className","id","options","asgardeoConfig","__RUNTIME_CONFIG__","ASGARDEO_CONFIG","tokenExchangeConfig","TOKEN_EXCHANGE_CONFIG","insightsAPIUrl","INSIGHTS_API_URL","validateUserAPIUrl","VALIDATE_USER_ENDPOINT","theme","createTheme","palette","common","black","white","primary","light","main","dark","contrastText","secondary","error","success","grey","typography","fontFamily","h1","fontSize","fontWeight","fontStretch","fontStyle","lineHeight","letterSpacing","h2","h3","h4","h5","subtitle1","subtitle2","body1","body2","MuiButton","disableRipple","disableFocusRipple","MuiDialog","transitionDuration","enter","exit","overrides","MuiTooltip","tooltip","borderRadius","backgroundColor","boxShadow","color","MuiBackdrop","root","authCodeURL","endpoints","authorizationEndpoint","clientID","signInRedirectURL","App","code","axios","post","tokenEndpoint","qs","stringify","client_id","grant_type","redirect_uri","headers","then","response","data","validateUserAndPerformTokenExchange","catch","console","access_token","id_token","asgardeoAccessToken","asgardeoIdToken","Accept","Authorization","organizations","length","userOrgList","displayName","defaultOrg","find","org","name","performTokenExchange","validateUserResponse","handle","subject_token","orgHandle","setUserDetails","debug","handleLoginPending","setState","loginPending","simulateClick","e","click","UTC_BROWSER_LOCALE_FORMAT","to","Date","setMilliseconds","from","getTime","setDate","getDate","format","state","fromDate","toDate","exchangedToken","userName","userProfilePictureUrl","userDefaultOrg","userOrganizations","userLoggedIn","userEmail","anchorEl","logoutPending","bind","graphQLFetcher","clearUserDetails","getDefaultVariables","this","uuid","localStorage","clear","graphQLParams","fetch","method","body","JSON","credentials","ok","json","userSignInOptions","Typography","variant","Button","classNames","primaryBtn","rounded","logInBtn","type","role","userLabel","Fragment","Avatar","alt","src","navBarAvatar","userText","MenuItem","userMenuItem","menuAvatar","userDetails","component","emailText","Boolean","handleLogout","logOutURL","endSessionEndpoint","signOutRedirectURL","logout","userItem","LogOutIcon","itemSecondaryText","userLogOutOptions","event","currentTarget","userBtn","downArrowIcon","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","paper","menuPaper","getContentAnchorEl","base64url","crypto","code_challenge","update","digest","pkceAuthCodeURL","overlay","preLoaderContainer","ref","logOutPending","loadingLogin","loadingLogOut","tableObject","tableObjectItem","align","loggedInExplorer","loggedOutExplorer","fetcher","defaultQuery","variables","docExplorerOpen","React","Component","withStyles","textTransform","background","spacing","paddingRight","paddingLeft","marginLeft","filter","padding","marginRight","flexShrink","breakpoints","up","cursor","pointerEvents","paddingBottom","paddingTop","marginTop","right","bottom","alignItems","justifyContent","zIndex","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.78fb288a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logout.ab831324.svg\";","/*\n * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React, { useEffect, useRef, useState } from 'react';\n\ntype IWindowProps = {\n    url: string,\n    title: string,\n    width: number,\n    height: number\n};\n\ntype IPopupProps = IWindowProps & {\n    onClose: () => void,\n    onCode: (response: any, code_verifier: string) => void,\n    children: React.ReactNode,\n    code_verifier: string\n};\n\nconst createPopup = ({ url, title, height, width }: IWindowProps) => {\n    const left = window.screenX + (window.outerWidth - width) / 2;\n    const top = window.screenY + (window.outerHeight - height) / 2.5;\n    const externalPopup = window.open(url, title, `width=${width},height=${height},left=${left},top=${top}`);\n    return externalPopup;\n};\n\nconst OauthPopup: React.FC<IPopupProps> = ({\n    title = '',\n    width = 500,\n    height = 500,\n    url,\n    children,\n    onCode,\n    onClose,\n    code_verifier\n}: IPopupProps) => {\n    const [externalWindow, setExternalWindow] = useState(Window | null);\n    const intervalRef = useRef(0);\n\n    const clearTimer = () => {\n        window.clearInterval(intervalRef.current);\n    };\n\n    const onContainerClick = () => {\n        setExternalWindow(\n            createPopup({\n                url,\n                title,\n                width,\n                height\n            })\n        );\n    };\n\n    useEffect(() => {\n        if (externalWindow) {\n            intervalRef.current = window.setInterval(async () => {\n                try {\n                    const currentURL = externalWindow.location.href;\n                    const params = new URL(currentURL).searchParams;\n                    const code = params.get('code');\n                    if (!code) {\n                        return;\n                    }\n                    onCode(params, code_verifier);\n                    clearTimer();\n                    externalWindow.close();\n                } catch (error) {\n                    // eslint-ignore-line\n                } finally {\n                    if (!externalWindow || externalWindow.closed) {\n                        onClose();\n                        clearTimer();\n                    }\n                }\n            }, 700);\n        }\n        return () => {\n            if (externalWindow) externalWindow.close();\n            if (onClose) onClose();\n        };\n    }, [externalWindow]);\n\n    return (\n        <div\n            style={{ display: 'inline' }}\n            onClick={() => {\n                onContainerClick();\n            }}\n        >\n            {children}\n        </div>\n    );\n};\n\nexport default OauthPopup;\n","/*\n * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React from 'react';\nimport Lottie from 'react-lottie';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport animationData from './data.json';\n\nexport interface PreLoaderLogoProps {\n    size: 'small' | 'medium';\n}\n\nexport function PreLoaderLogo(props: PreLoaderLogoProps): React.FC {\n    const { size } = props;\n\n    const useStyles = makeStyles(() => ({\n        preloader: {\n            position: 'absolute',\n            height: '70px',\n            width: '70px'\n        }\n    }));\n\n    const classes = useStyles();\n\n    const loaderSize = size === 'small' ? '48px' : '64px';\n\n    const defaultOptions = {\n        loop: true,\n        autoplay: true,\n        animationData,\n        rendererSettings: {\n            preserveAspectRatio: 'xMidYMid slice'\n        }\n    };\n\n    return (\n        <div className={classes.preloader} id={'backdrop-loader'} data-testid='backdrop-loader'>\n            <Lottie options={defaultOptions} height={loaderSize} width={loaderSize} />\n        </div>\n    );\n}\n","/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\nexport const asgardeoConfig = window.__RUNTIME_CONFIG__.ASGARDEO_CONFIG;\n\nexport const tokenExchangeConfig = window.__RUNTIME_CONFIG__.TOKEN_EXCHANGE_CONFIG;\n\nexport const insightsAPIUrl = window.__RUNTIME_CONFIG__.INSIGHTS_API_URL;\n\nexport const validateUserAPIUrl = window.__RUNTIME_CONFIG__.VALIDATE_USER_ENDPOINT;\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const theme = createTheme({\n    palette: {\n        common: {\n            black: '#000000',\n            white: '#FFFFFF'\n        },\n        primary: {\n            light: '#AEBAFE',\n            main: '#5567d5',\n            dark: '#5346B6',\n            contrastText: '#222228'\n        },\n        secondary: {\n            light: '#f7f8fb',\n            main: '#ccd1f2'\n        },\n        error: {\n            light: '#FAE8E8',\n            main: '#FD6B6B'\n        },\n        success: {\n            light: '#E1F4ED',\n            main: '#36B475'\n        },\n        grey: {\n            100: '#eff1f5',\n            200: '#e6e7ec',\n            300: '#8d91a3',\n            400: '#8d91a3',\n            500: '#222228',\n            600: '#181c20',\n            700: '#1d2028'\n        }\n    },\n    typography: {\n        fontFamily: 'Gilmer',\n        h1: {\n            fontSize: 29,\n            fontWeight: 'bold',\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 1.38,\n            letterSpacing: 'normal'\n        },\n        h2: {\n            fontSize: 22,\n            fontWeight: 'bold',\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 1.35,\n            letterSpacing: 'normal'\n        },\n        h3: {\n            fontSize: 17,\n            fontWeight: 'bold',\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 1.41,\n            letterSpacing: 'normal'\n        },\n        h4: {\n            fontSize: 15,\n            fontWeight: 500,\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 'normal',\n            letterSpacing: 'normal'\n        },\n        h5: {\n            fontSize: 13,\n            fontWeight: 500,\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 1.08,\n            letterSpacing: 'normal'\n        },\n        subtitle1: {\n            fontSize: 15,\n            fontWeight: 'normal',\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 1.6,\n            letterSpacing: 'normal'\n        },\n        subtitle2: {\n            fontSize: 14,\n            fontWeight: 'normal',\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 1.71,\n            letterSpacing: 'normal'\n        },\n        body1: {\n            fontSize: 13,\n            fontWeight: 'normal',\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 1.85,\n            letterSpacing: 'normal'\n        },\n        body2: {\n            fontSize: 12,\n            fontWeight: 'normal',\n            fontStretch: 'normal',\n            fontStyle: 'normal',\n            lineHeight: 2,\n            letterSpacing: 'normal'\n        }\n    },\n    props: {\n        MuiButton: {\n            disableRipple: true,\n            disableFocusRipple: true\n        },\n        MuiDialog: {\n            transitionDuration: {\n                enter: 550,\n                exit: 450\n            }\n        }\n    },\n    overrides: {\n        MuiTooltip: {\n            tooltip: {\n                height: 'auto',\n                borderRadius: 4,\n                backgroundColor: '#40404B',\n                boxShadow: '0 1px 10px 0 rgba(0,0,0,0.22)',\n                fontSize: 12,\n                color: '#FFFFFF',\n                fontWeight: 400\n            }\n        },\n        MuiBackdrop: {\n            root: {\n                backgroundColor: 'rgba(230,231,235,0.9)'\n            }\n        }\n    }\n});\n","/*\n * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React from 'react';\n\nimport 'graphiql/graphiql.min.css';\nimport axios from 'axios';\nimport base64url from 'base64url';\nimport classNames from 'classnames';\nimport * as crypto from 'crypto';\nimport { format } from 'date-fns-tz';\nimport GraphiQL from 'graphiql';\nimport qs from 'qs';\n\nimport { MuiThemeProvider } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\n\nimport LogOutIcon from './assets/img/logout.svg';\nimport OauthPopup from './components/Popup/Popup';\nimport { PreLoaderLogo } from './components/PreLoaderLogo/PreLoaderLogo';\nimport { asgardeoConfig, insightsAPIUrl, tokenExchangeConfig, validateUserAPIUrl } from './config';\nimport { theme } from './theme/theme';\n\nconst useStyles = () => ({\n    root: {\n        height: '100%'\n    },\n    primaryBtn: {\n        textTransform: 'capitalize',\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.common.white,\n        fontSize: 13,\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,0.06), 0 1px 2px 0 rgba(0,0,0,0.15)',\n        '&:hover': {\n            backgroundColor: '#5464D0',\n            color: theme.palette.common.white,\n            boxShadow: 'inset 0 0 0 1px rgba(0,0,0,0.06), 0 2px 4px 0 rgba(0,0,0,0.07)'\n        },\n        '&:focus': {\n            backgroundColor: theme.palette.primary.main,\n            background: 'linear-gradient(180deg, rgba(0,0,0,0.07) 0%, rgba(0,0,0,0) 100%)',\n            color: theme.palette.common.white,\n            boxShadow: 'inset 0 0 0 1px rgba(0,0,0,0.08), 0 0 0 0 rgba(0,0,0,0.07)'\n        },\n        '&:active': {\n            backgroundColor: theme.palette.primary.main\n        }\n    },\n    logInBtn: {\n        height: theme.spacing(5),\n        width: theme.spacing(11),\n        paddingRight: theme.spacing(1),\n        paddingLeft: theme.spacing(1),\n        marginLeft: theme.spacing(1.25)\n    },\n    rounded: {\n        height: theme.spacing(5),\n        borderRadius: theme.spacing(3.0)\n    },\n    loggedInExplorer: {\n        height: '100%'\n    },\n    loggedOutExplorer: {\n        height: '100%',\n        filter: 'opacity(50%)',\n        'pointer-events': 'none'\n    },\n    tableObject: {\n        padding: theme.spacing(2)\n    },\n    tableObjectItem: {\n        display: 'table-cell',\n        width: '1%',\n        'white-space': 'nowrap',\n        'vertical-align': 'middle'\n    },\n    navBarAvatar: {\n        width: theme.spacing(4) + 'px !important',\n        height: theme.spacing(4) + 'px !important',\n        marginRight: theme.spacing(1.5)\n    },\n    userText: {\n        color: theme.palette.grey[500] + ' !important',\n        textTransform: 'capitalize',\n        lineHeight: 1.4 + ' !important',\n        flexShrink: 0,\n        [theme.breakpoints.up('xs')]: {\n            display: 'none'\n        },\n        [theme.breakpoints.up('lg')]: {\n            display: 'block'\n        }\n    },\n    userBtn: {\n        '&:hover': {\n            backgroundColor: 'transparent'\n        }\n    },\n    downArrowIcon: {\n        fontSize: '1rem',\n        marginLeft: theme.spacing(0.5),\n        color: theme.palette.grey[500]\n    },\n    userMenuItem: {\n        cursor: 'default !important',\n        pointerEvents: 'none',\n        paddingLeft: theme.spacing(3) + 'px !important',\n        paddingRight: theme.spacing(3) + 'px !important',\n        paddingBottom: theme.spacing(1) + 'px !important',\n        paddingTop: theme.spacing(2) + 'px !important'\n    },\n    userDetails: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2)\n    },\n    menuAvatar: {\n        width: theme.spacing(6) + 'px !important',\n        height: theme.spacing(6) + 'px !important'\n    },\n    emailText: {\n        color: theme.palette.grey[400] + ' !important',\n        lineHeight: 1.6 + ' !important'\n    },\n    menuPaper: {\n        marginTop: theme.spacing(3) + 'px !important',\n        boxShadow: 'inset 0 -1px 0 0 #D3D4DD, 0 5px 50px 0 rgba(102,103,133,0.27) !important',\n        borderRadius: theme.spacing(0.75) + 'px !important'\n    },\n    userItem: {\n        paddingLeft: theme.spacing(3) + 'px !important',\n        paddingRight: theme.spacing(3) + 'px !important',\n        paddingBottom: theme.spacing(2) + 'px !important',\n        paddingTop: theme.spacing(2) + 'px !important',\n        '&:hover': {\n            backgroundColor: \"#F4F5F7 !important'\"\n        }\n    },\n    itemSecondaryText: {\n        color: theme.palette.primary.contrastText + ' !important',\n        marginLeft: theme.spacing(2) + 'px !important',\n        marginTop: theme.spacing(0.25) + 'px !important'\n    },\n    preLoaderContainer: {\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        position: 'fixed',\n        backgroundColor: theme.palette.secondary.light,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1201\n    }\n});\n\nconst authCodeURL =\n    asgardeoConfig.endpoints.authorizationEndpoint +\n    '?response_type=code&client_id=' +\n    asgardeoConfig.clientID +\n    '&redirect_uri=' +\n    asgardeoConfig.signInRedirectURL +\n    '&scope=openid%20email%20profile' +\n    '&response_mode=query';\n\nconst defaultQuery =\n    `query ($dataFilter: DataFilter!, $filter: TimeFilter!) {\\n` +\n    `  getTotalTraffic(filter: $filter, dataFilter: $dataFilter)\\n` +\n    `  getOverallLatency(filter: $filter, dataFilter: $dataFilter)\\n` +\n    `  getTotalErrors(filter: $filter, dataFilter: $dataFilter)\\n` +\n    `}`;\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const UTC_BROWSER_LOCALE_FORMAT = \"yyy-MM-dd'T'HH:mm:ss.SSSXXX\";\n        let to = new Date();\n        to.setMilliseconds(0);\n        let from = new Date(to.getTime());\n        from = new Date(from.setDate(from.getDate() - 7));\n        from = format(from, UTC_BROWSER_LOCALE_FORMAT);\n        to = format(to, UTC_BROWSER_LOCALE_FORMAT);\n\n        this.state = {\n            fromDate: from,\n            toDate: to,\n            exchangedToken: '',\n            asgardeoIdToken: '',\n            userName: '',\n            userProfilePictureUrl: '',\n            userDefaultOrg: '',\n            userOrganizations: '',\n            userLoggedIn: false,\n            userEmail: '',\n            anchorEl: null,\n            loginPending: false,\n            logoutPending: false\n        };\n        this.onCode = this.onCode.bind(this);\n        this.onClose = this.onClose.bind(this);\n        this.simulateClick = this.simulateClick.bind(this);\n        this.graphQLFetcher = this.graphQLFetcher.bind(this);\n        this.setUserDetails = this.setUserDetails.bind(this);\n        this.clearUserDetails = this.clearUserDetails.bind(this);\n        this.getDefaultVariables = this.getDefaultVariables.bind(this);\n        this.validateUserAndPerformTokenExchange = this.validateUserAndPerformTokenExchange.bind(this);\n    }\n\n    getDefaultVariables() {\n        const { fromDate, toDate, userLoggedIn, userDefaultOrg } = this.state;\n        if (userLoggedIn && userDefaultOrg) {\n            const orgId = userDefaultOrg.uuid;\n            return (\n                '{\\n' +\n                '  \"filter\": {\\n' +\n                '    \"from\": \"' +\n                fromDate +\n                '\",\\n' +\n                '    \"to\": \"' +\n                toDate +\n                '\"\\n' +\n                '  },\\n' +\n                '  \"latencySummaryFilter\": {\\n' +\n                '    \"granularity\": \"1d\"\\n' +\n                '  },\\n' +\n                '  \"granularity\": \"1d\",\\n' +\n                '  \"dataFilter\": {\\n' +\n                '    \"orgId\": \"' +\n                orgId +\n                '\",\\n' +\n                '    \"environmentId\": \"3b7276f2-6bd7-4f14-91d0-6110fd894787\",\\n' +\n                '    \"tenant\": \"carbon.super\"\\n' +\n                '  }\\n' +\n                '}'\n            );\n        } else {\n            return (\n                '{\\n' +\n                '  \"filter\": {\\n' +\n                '    \"from\": \"' +\n                fromDate +\n                '\",\\n' +\n                '    \"to\": \"' +\n                toDate +\n                '\"\\n' +\n                '  },\\n' +\n                '  \"latencySummaryFilter\": {\\n' +\n                '    \"granularity\": \"1d\"\\n' +\n                '  },\\n' +\n                '  \"granularity\": \"1d\",\\n' +\n                '  \"dataFilter\": {\\n' +\n                '    \"orgId\": \"12345678-1234-4321-1234-123456789012\",\\n' +\n                '    \"environmentId\": \"production\",\\n' +\n                '    \"tenant\": \"carbon.super\"\\n' +\n                '  }\\n' +\n                '}'\n            );\n        }\n    }\n\n    setUserDetails(data, defaultOrg, exchangedToken, asgardeoIdToken) {\n        this.setState({\n            loginPending: false,\n            logoutPending: false,\n            userLoggedIn: true,\n            exchangedToken: exchangedToken,\n            asgardeoIdToken: asgardeoIdToken,\n            userName: data.displayName,\n            userEmail: data.userEmail,\n            userDefaultOrg: defaultOrg,\n            userOrganizations: data.organizations,\n            userProfilePictureUrl: data.userProfilePictureUrl\n        });\n    }\n\n    clearUserDetails() {\n        this.setState({\n            userLoggedIn: false,\n            exchangedToken: '',\n            asgardeoIdToken: '',\n            userName: '',\n            userProfilePictureUrl: '',\n            userDefaultOrg: '',\n            userOrganizations: '',\n            anchorEl: null,\n            loginPending: false,\n            logoutPending: false\n        });\n        localStorage.clear();\n    }\n\n    async graphQLFetcher(graphQLParams) {\n        if (!this.state.userLoggedIn) {\n            return '';\n        } else {\n            const { exchangedToken } = this.state;\n            return await fetch(insightsAPIUrl, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: 'Bearer ' + exchangedToken\n                },\n                body: JSON.stringify(graphQLParams),\n                credentials: 'include'\n            }).then((response) => {\n                if (!response.ok) {\n                    this.clearUserDetails();\n                }\n                return response.json();\n            });\n        }\n    }\n\n    onCode = async (params, code_verifier) => {\n        const code = params.get('code');\n        await axios\n            .post(\n                asgardeoConfig.endpoints.tokenEndpoint,\n                qs.stringify({\n                    client_id: asgardeoConfig.clientID,\n                    code: code,\n                    grant_type: 'authorization_code',\n                    redirect_uri: asgardeoConfig.signInRedirectURL,\n                    code_verifier: code_verifier\n                }),\n                {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n                    }\n                }\n            )\n            .then((response) => {\n                if (response && response.data) {\n                    this.validateUserAndPerformTokenExchange(response.data);\n                }\n            })\n            .catch((error) => {\n                console.error('Error occurred while retrieving an asgardeo token', error);\n            });\n    };\n\n    validateUserAndPerformTokenExchange = async (data) => {\n        if (data && data.access_token && data.id_token) {\n            const { access_token: asgardeoAccessToken, id_token: asgardeoIdToken } = data;\n            await axios\n                .get(validateUserAPIUrl, {\n                    headers: {\n                        Accept: 'application/json',\n                        Authorization: 'Bearer ' + asgardeoAccessToken\n                    }\n                })\n                .then((response) => {\n                    const { data } = response;\n                    if (data && data.organizations && data.organizations.length > 0) {\n                        const { organizations: userOrgList, displayName } = data;\n                        const defaultOrg = userOrgList.find((org) => org.name === displayName) || userOrgList[0];\n                        this.performTokenExchange(data, defaultOrg, asgardeoAccessToken, asgardeoIdToken);\n                    } else {\n                        console.error('No organizations found for the user');\n                    }\n                })\n                .catch((error) => {\n                    console.error('Error occurred while validating the user', error);\n                });\n        } else {\n            console.error('Cannot find the access_token or id_token');\n        }\n    };\n\n    performTokenExchange = async (validateUserResponse, defaultOrg, asgardeoAccessToken, asgardeoIdToken) => {\n        if (defaultOrg && defaultOrg.handle) {\n            await axios\n                .post(\n                    tokenExchangeConfig.tokenEndpoint,\n                    qs.stringify({\n                        ...tokenExchangeConfig.data,\n                        subject_token: asgardeoAccessToken,\n                        orgHandle: defaultOrg.handle\n                    }),\n                    {\n                        headers: {\n                            'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n                        }\n                    }\n                )\n                .then((response) => {\n                    if (response.data && response.data.access_token) {\n                        this.setUserDetails(\n                            validateUserResponse,\n                            defaultOrg,\n                            response.data.access_token,\n                            asgardeoIdToken\n                        );\n                    } else {\n                        console.error('No access token found in the token exchange response');\n                    }\n                })\n                .catch((error) => {\n                    console.error('Error occurred while retrieving the exchanged token', error);\n                });\n        } else {\n            console.error('Cannot find the default organization');\n        }\n    };\n\n    onClose = () => console.debug('Popup window closed');\n\n    handleLoginPending = () => {\n        this.setState({\n            loginPending: true\n        });\n    };\n\n    simulateClick = (e) => {\n        if (e) {\n            e.click();\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        const userSignInOptions = (\n            <div>\n                <Typography variant='subtitle1' display={'inline'}>\n                    Start exploring Choreo Insights API queries using your account’s data now.\n                    <Button\n                        classes={{\n                            root: classNames(classes.primaryBtn, classes.rounded, classes.logInBtn)\n                        }}\n                        type='button'\n                        id='user-login'\n                        role='button'\n                        onClick={this.handleLoginPending}\n                    >\n                        <Typography variant='h4'>Sign In</Typography>\n                    </Button>\n                </Typography>\n            </div>\n        );\n\n        const userLabel = (\n            <React.Fragment>\n                <Avatar\n                    alt={this.state.userName}\n                    src={this.state.userProfilePictureUrl}\n                    className={classNames('user-profile-pic', classes.navBarAvatar)}\n                />\n                <Typography variant='body1' className={classNames('user-profile-name', classes.userText)}>\n                    {this.state.userName}\n                </Typography>\n            </React.Fragment>\n        );\n\n        const userName = (\n            <MenuItem className={classes.userMenuItem}>\n                <Avatar\n                    alt={this.state.userName}\n                    src={this.state.userProfilePictureUrl}\n                    className={classNames('user-profile-pic', classes.menuAvatar)}\n                />\n                <div className={classes.userDetails}>\n                    <Typography\n                        variant='body1'\n                        component='div'\n                        className={classNames(classes.userText, 'user-profile-name')}\n                    >\n                        {this.state.userName}\n                    </Typography>\n                    <Typography\n                        variant='body1'\n                        component='div'\n                        className={classNames(classes.emailText, 'user-profile-email')}\n                    >\n                        {this.state.userEmail}\n                    </Typography>\n                </div>\n            </MenuItem>\n        );\n\n        const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n            this.setState({\n                anchorEl: event.currentTarget\n            });\n        };\n\n        const open = Boolean(this.state.anchorEl);\n\n        const handleClose = () => {\n            this.setState({\n                anchorEl: null\n            });\n        };\n\n        const handleLogout = async () => {\n            const { asgardeoIdToken } = this.state;\n            this.setState({\n                logoutPending: true\n            });\n            const logOutURL =\n                asgardeoConfig.endpoints.endSessionEndpoint +\n                '?id_token_hint=' +\n                asgardeoIdToken +\n                '&post_logout_redirect_uri=' +\n                asgardeoConfig.signOutRedirectURL +\n                '&state=sign_out_success';\n            await axios\n                .get(logOutURL)\n                .then(() => {\n                    this.clearUserDetails();\n                })\n                .catch((error) => {\n                    this.clearUserDetails();\n                    console.error('Error occurred while logging out user', error);\n                });\n        };\n\n        const logout = (\n            <MenuItem className={classes.userItem} onClick={handleLogout} disableRipple={true}>\n                <img src={LogOutIcon} alt={'logout'} />\n                <Typography variant='body1' component='div' className={classes.itemSecondaryText}>\n                    Logout\n                </Typography>\n            </MenuItem>\n        );\n\n        const userLogOutOptions = (\n            <div>\n                <React.Fragment>\n                    <Button\n                        aria-label='account of current user'\n                        aria-controls='menu-appbar'\n                        aria-haspopup='true'\n                        onClick={handleMenu}\n                        color='inherit'\n                        id='current-user'\n                        className={classes.userBtn}\n                    >\n                        {userLabel}\n                        <KeyboardArrowDownIcon className={classes.downArrowIcon} />\n                    </Button>\n                    <Menu\n                        id='menu-appbar'\n                        anchorEl={this.state.anchorEl}\n                        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n                        keepMounted={true}\n                        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n                        open={open}\n                        onClose={handleClose}\n                        classes={{ paper: classes.menuPaper }}\n                        getContentAnchorEl={null}\n                    >\n                        {userName}\n                        {logout}\n                    </Menu>\n                </React.Fragment>\n            </div>\n        );\n\n        let code_verifier = base64url(crypto.pseudoRandomBytes(32));\n        let code_challenge = base64url(\n            crypto\n                .createHash('sha256')\n                .update(code_verifier)\n                .digest()\n        );\n        const pkceAuthCodeURL = authCodeURL + '&code_challenge_method=S256&code_challenge=' + code_challenge;\n\n        const loginPending = (\n            <div>\n                <div className={classes.overlay} />\n                <div className={classes.preLoaderContainer}>\n                    <PreLoaderLogo size={'medium'} />\n                </div>\n                <OauthPopup\n                    url={pkceAuthCodeURL}\n                    onCode={this.onCode}\n                    onClose={this.onClose}\n                    height={500}\n                    width={500}\n                    code_verifier={code_verifier}\n                >\n                    <div ref={this.simulateClick} />;\n                </OauthPopup>\n            </div>\n        );\n        const logOutPending = (\n            <div>\n                <div className={classes.overlay} />\n                <div className={classes.preLoaderContainer}>\n                    <PreLoaderLogo size={'medium'} />\n                </div>\n            </div>\n        );\n\n        const loadingLogin = this.state.loginPending;\n        const loadingLogOut = this.state.logoutPending;\n\n        if (loadingLogin) {\n            return loginPending;\n        } else if (loadingLogOut) {\n            return logOutPending;\n        } else {\n            return (\n                <MuiThemeProvider theme={theme}>\n                    <div className={classes.root}>\n                        <div className={classes.tableObject}>\n                            <div className={classes.tableObjectItem}>\n                                <Typography variant='h2'>Choreo Insights API</Typography>\n                            </div>\n                            <div className={classes.tableObjectItem} align={'right'}>\n                                {this.state.userLoggedIn ? userLogOutOptions : userSignInOptions}\n                            </div>\n                        </div>\n                        <div className={this.state.userLoggedIn ? classes.loggedInExplorer : classes.loggedOutExplorer}>\n                            <GraphiQL\n                                fetcher={this.graphQLFetcher}\n                                defaultQuery={defaultQuery}\n                                variables={this.getDefaultVariables()}\n                                docExplorerOpen={false}\n                            />\n                        </div>\n                    </div>\n                </MuiThemeProvider>\n            );\n        }\n    }\n}\n\nexport default withStyles(useStyles)(App);\n","/*\n * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}